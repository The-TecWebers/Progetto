function scrollToTop(){window.scrollTo({top:0,behavior:"smooth"}),document.getElementById("menu").focus()}function caricamento_registrazione(){var e=document.getElementById("nome"),t=document.createElement("p");t.id="info-"+e.id,t.classList.add("info-label"),t.innerHTML="Esso pu\xf2 contenere solo lettere, apostrofi, trattini e spazi e deve essere lungo da 2 a 40 caratteri",e.parentElement.insertBefore(t,e),e=document.getElementById("cognome"),(t=document.createElement("p")).id="info-"+e.id,t.classList.add("info-label"),t.innerHTML="Esso pu\xf2 contenere solo lettere, apostrofi, trattini e spazi e deve essere lungo da 2 a 40 caratteri",e.parentElement.insertBefore(t,e),e=document.getElementById("email"),(t=document.createElement("p")).id="info-"+e.id,t.classList.add("info-label"),t.innerHTML='Essa deve essere un indirizzo <span lang="en">email</span> valido',e.parentElement.insertBefore(t,e),e=document.getElementById("telefono"),(t=document.createElement("p")).id="info-"+e.id,t.classList.add("info-label"),t.innerHTML='Esso deve essere un numero di telefono valido, di 9 o 10 cifre, con spazi o senza spazi, con prefisso o senza prefisso (se lo inserisci, ricordati il "+")',e.parentElement.insertBefore(t,e),e=document.getElementById("username"),(t=document.createElement("p")).id="info-"+e.id,t.classList.add("info-label"),t.innerHTML='Esso pu\xf2 contenere solo lettere, numeri, apostrofi, trattini e <span lang="en">underscore</span>, non pu\xf2 contenere spazi e pu\xf2 essere lungo da 2 a 40 caratteri',e.parentElement.insertBefore(t,e),e=document.getElementById("password"),(t=document.createElement("p")).id="info-"+e.id,t.classList.add("info-label"),t.innerHTML="Essa deve essere lunga almeno 8 caratteri e massimo 256, deve contenere almeno un carattere maiuscolo, un carattere minuscolo, un numero e un carattere speciale",e.parentElement.insertBefore(t,e)}function caricamento_area_privata(){var e=document.getElementById("new_password"),t=document.createElement("p");t.id="info-"+e.id,t.classList.add("info-label"),t.innerHTML="Essa deve essere lunga almeno 8 caratteri e massimo 256, deve contenere almeno un carattere maiuscolo, un carattere minuscolo, un numero e un carattere speciale",e.parentElement.insertBefore(t,e)}function caricamento_preventivi(){var e=document.getElementById("titolo"),t=document.createElement("p");t.id="info-"+e.id,t.classList.add("info-label"),t.innerHTML="Un titolo per il preventivo, deve essere lungo da 2 a 40 caratteri",e.parentElement.insertBefore(t,e),e=document.getElementById("luogo"),(t=document.createElement("p")).id="info-"+e.id,t.classList.add("info-label"),t.innerHTML="Il luogo dove verr\xe0 svolto il lavoro, deve essere lungo da 2 a 40 caratteri",e.parentElement.insertBefore(t,e),e=document.getElementById("foto"),(t=document.createElement("p")).id="info-"+e.id,t.classList.add("info-label"),t.innerHTML="Una foto descrittiva obbligatoria con dimensione massima 5 <abbr title='Megabyte' lang='en'>MB</abbr>",e.parentElement.insertBefore(t,e),e=document.getElementById("didascalia"),(t=document.createElement("p")).id="info-"+e.id,t.classList.add("info-label"),t.innerHTML="Una didascalia per la foto, deve essere lunga da 2 a 75 caratteri",e.parentElement.insertBefore(t,e),e=document.getElementById("descrizione"),(t=document.createElement("p")).id="info-"+e.id,t.classList.add("info-label"),t.innerHTML="Una breve descrizione, deve essere lunga da 2 a 255 caratteri",e.parentElement.insertBefore(t,e)}window.onscroll=function(){let e=document.getElementById("goUp"),t=parseFloat(window.getComputedStyle(document.body).fontSize);window.scrollY>15*t?e.classList.add("visible"):(e.classList.remove("visible"),e.removeAttribute("class"))},document.addEventListener("DOMContentLoaded",function(){document.getElementById("registrationForm")&&(caricamento_registrazione(),document.getElementById("nome").setAttribute("aria-describedby","info-nome"),document.getElementById("cognome").setAttribute("aria-describedby","info-cognome"),document.getElementById("email").setAttribute("aria-describedby","info-email"),document.getElementById("telefono").setAttribute("aria-describedby","info-telefono"),document.getElementById("username").setAttribute("aria-describedby","info-username"),document.getElementById("password").setAttribute("aria-describedby","info-password"),document.getElementById("nome").onblur=function(){return validateName(document.getElementById("nome"))},document.getElementById("cognome").onblur=function(){return validateSurname(document.getElementById("cognome"))},document.getElementById("email").onblur=function(){return validateEmail(document.getElementById("email"))},document.getElementById("telefono").onblur=function(){return validatePhoneNumber(document.getElementById("telefono"))},document.getElementById("username").onblur=function(){return validateUsername(document.getElementById("username"))},document.getElementById("password").onblur=function(){return validatePassword(document.getElementById("password"))},document.getElementById("password_confirmation").onblur=function(){return validatePasswordConfirmation(document.getElementById("password_confirmation"))},document.getElementById("registrationForm").onsubmit=function(){return validateRegister()}),document.getElementById("privateAreaForm")&&(caricamento_area_privata(),document.getElementById("new_password").setAttribute("aria-describedby","info-new_password"),document.getElementById("nome").onblur=function(){return validateName(document.getElementById("nome"))},document.getElementById("cognome").onblur=function(){return validateSurname(document.getElementById("cognome"))},document.getElementById("email").onblur=function(){return validateEmail(document.getElementById("email"))},document.getElementById("telefono").onblur=function(){return validatePhoneNumber(document.getElementById("telefono"))},document.getElementById("username").onblur=function(){return validateUsername(document.getElementById("username"))},document.getElementById("new_password").onblur=function(){return validateNewPassword(document.getElementById("new_password"))},document.getElementById("repeated_password").onblur=function(){return validatePasswordConfirmation(document.getElementById("repeated_password"))},document.getElementById("privateAreaForm").onsubmit=function(){return validatePrivateArea()}),document.getElementById("preventiviForm")&&(caricamento_preventivi(),document.getElementById("titolo").setAttribute("aria-describedby","info-titolo"),document.getElementById("luogo").setAttribute("aria-describedby","info-luogo"),document.getElementById("foto").setAttribute("aria-describedby","info-foto"),document.getElementById("didascalia").setAttribute("aria-describedby","info-didascalia"),document.getElementById("descrizione").setAttribute("aria-describedby","info-descrizione"),document.getElementById("titolo").onblur=()=>validateTitolo(document.getElementById("titolo")),document.getElementById("luogo").onblur=()=>validateLuogo(document.getElementById("luogo")),document.getElementById("foto").onblur=()=>validateFoto(document.getElementById("foto")),document.getElementById("foto").onchange=()=>validateFoto(document.getElementById("foto")),document.getElementById("didascalia").onblur=()=>validateDidascalia(document.getElementById("didascalia")),document.getElementById("descrizione").onblur=()=>validateDescrizione(document.getElementById("descrizione")),document.getElementById("preventiviForm").onsubmit=()=>validatePreventiviForm()),document.getElementById("EditPreventivoForm")&&(caricamento_preventivi(),document.getElementById("titolo").setAttribute("aria-describedby","info-titolo"),document.getElementById("luogo").setAttribute("aria-describedby","info-luogo"),document.getElementById("foto").setAttribute("aria-describedby","info-foto"),document.getElementById("didascalia").setAttribute("aria-describedby","info-didascalia"),document.getElementById("descrizione").setAttribute("aria-describedby","info-descrizione"),document.getElementById("titolo").onblur=()=>validateTitolo(document.getElementById("titolo")),document.getElementById("luogo").onblur=()=>validateLuogo(document.getElementById("luogo")),document.getElementById("foto").onblur=()=>validateEditFoto(document.getElementById("foto")),document.getElementById("foto").onchange=()=>validateEditFoto(document.getElementById("foto")),document.getElementById("didascalia").onblur=()=>validateDidascalia(document.getElementById("didascalia")),document.getElementById("descrizione").onblur=()=>validateDescrizione(document.getElementById("descrizione")),document.getElementById("EditPreventivoForm").onsubmit=()=>validateEditPreventiviForm()),document.getElementById("table-filter")&&document.getElementById("table-filter").classList.add("visible")});var accentedCharacters="\xe0\xe8\xec\xf2\xf9\xc0\xc8\xcc\xd2\xd9\xe1\xe9\xed\xf3\xfa\xfd\xc1\xc9\xcd\xd3\xda\xdd\xe2\xea\xee\xf4\xfb\xc2\xca\xce\xd4\xdb\xe3\xf1\xf5\xc3\xd1\xd5\xe4\xeb\xef\xf6\xfc\xff\xc4\xcb\xcf\xd6\xdcŸ\xe7\xc7\xdf\xd8\xf8\xc5\xe5\xc6\xe6œ",punctuationMarks=".,;:!?‘’“”\xab\xbb";function checkName(e){return RegExp("^[a-zA-Z"+accentedCharacters+"'\\-\\s]{2,40}$").test(e)}function checkSurname(e){return RegExp("^[a-zA-Z"+accentedCharacters+"'\\-\\s]{2,40}$").test(e)}function checkEmail(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}function checkPhoneNumber(e){return e=e.replace(/\s+/g,""),/^(\+\d{2})?(\d{9,10})$/.test(e)}function checkUsername(e){return RegExp("^[\\w"+accentedCharacters+"'\\-]{1,40}$").test(e)}function checkPassword(e){return/^(?=.*\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,}$/.test(e)}function checkTitolo(e){return RegExp("^[a-zA-Z0-9"+accentedCharacters+"\\-\\s]{2,40}$").test(e)}function checkLuogo(e){return RegExp("^[a-zA-Z0-9"+accentedCharacters+punctuationMarks+"\\'\\\"\\-\\s]{2,40}$").test(e)}function checkDidascalia(e){return RegExp("^[a-zA-Z0-9"+accentedCharacters+punctuationMarks+"\\'\\\"\\-\\s]{2,75}$").test(e)}function checkDescrizione(e){return RegExp("^[a-zA-Z0-9"+accentedCharacters+punctuationMarks+"\\'\\\"\\-\\s]{2,255}$").test(e)}function insertAfter(e,t){t.parentNode.insertBefore(e,t.nextSibling)}function validateName(e){e.nextElementSibling&&"P"===e.nextElementSibling.tagName&&e.nextElementSibling.classList.contains("error-label")&&e.parentElement.removeChild(e.nextElementSibling);let t=document.createElement("p");if(t.classList.add("error-label"),t.setAttribute("role","alert"),t.setAttribute("aria-live","assertive"),""==e.value){if(t.innerHTML="Devi inserire il tuo nome!",insertAfter(t,e),e.focus(),!(e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label"))){var i=document.createElement("p");i.id="info-"+e.id,i.classList.add("info-label"),i.innerHTML="Esso pu\xf2 contenere solo lettere, apostrofi, trattini e spazi e deve essere lungo da 2 a 40 caratteri",e.parentElement.insertBefore(i,e),e.setAttribute("aria-describedby",i.id)}return!1}return e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label")&&(e.parentElement.removeChild(e.previousElementSibling),e.removeAttribute("aria-describedby")),!!checkName(e.value)||(t.innerHTML="Il nome pu\xf2 contenere solo lettere, apostrofi, trattini e spazi e deve essere lungo da 2 a 40 caratteri",insertAfter(t,e),e.focus(),!1)}function validateSurname(e){e.nextElementSibling&&"P"===e.nextElementSibling.tagName&&e.nextElementSibling.classList.contains("error-label")&&e.parentElement.removeChild(e.nextElementSibling);let t=document.createElement("p");if(t.classList.add("error-label"),t.setAttribute("role","alert"),t.setAttribute("aria-live","assertive"),""==e.value){if(t.innerHTML="Devi inserire il tuo cognome!",insertAfter(t,e),e.focus(),!(e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label"))){var i=document.createElement("p");i.id="info-"+e.id,i.classList.add("info-label"),i.innerHTML="Esso pu\xf2 contenere solo lettere, apostrofi, trattini e spazi e deve essere lungo da 2 a 40 caratteri",e.parentElement.insertBefore(i,e),e.setAttribute("aria-describedby",i.id)}return!1}return e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label")&&(e.parentElement.removeChild(e.previousElementSibling),e.removeAttribute("aria-describedby")),!!checkSurname(e.value)||(t.innerHTML="Il cognome pu\xf2 contenere solo lettere, apostrofi, trattini e spazi e deve essere lungo da 2 a 40 caratteri",insertAfter(t,e),e.focus(),!1)}function validateEmail(e){e.nextElementSibling&&"P"===e.nextElementSibling.tagName&&e.nextElementSibling.classList.contains("error-label")&&e.parentElement.removeChild(e.nextElementSibling);let t=document.createElement("p");if(t.classList.add("error-label"),t.setAttribute("role","alert"),t.setAttribute("aria-live","assertive"),""==e.value){if(t.innerHTML='Devi inserire un\'<span lang="en">email</span>!',insertAfter(t,e),e.focus(),!(e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label"))){var i=document.createElement("p");i.id="info-"+e.id,i.classList.add("info-label"),i.innerHTML='Essa deve essere un indirizzo <span lang="en">email</span> valido',e.parentElement.insertBefore(i,e),e.setAttribute("aria-describedby",i.id)}return!1}return e.value.length>256?(t.innerHTML='L\'<span lang="en">email</span> deve essere lunga al massimo 256 caratteri',insertAfter(t,e),e.focus(),!1):(e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label")&&(e.parentElement.removeChild(e.previousElementSibling),e.removeAttribute("aria-describedby")),!!checkEmail(e.value)||(t.innerHTML='<span lang="en">Email</span> non valida',insertAfter(t,e),e.focus(),!1))}function validatePhoneNumber(e){e.nextElementSibling&&"P"===e.nextElementSibling.tagName&&e.nextElementSibling.classList.contains("error-label")&&e.parentElement.removeChild(e.nextElementSibling);let t=document.createElement("p");if(t.classList.add("error-label"),t.setAttribute("role","alert"),t.setAttribute("aria-live","assertive"),""==e.value){if(t.innerHTML="Devi inserire un numero di telefono!",insertAfter(t,e),e.focus(),!(e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label"))){var i=document.createElement("p");i.id="info-"+e.id,i.classList.add("info-label"),i.innerHTML='Esso deve essere un numero di telefono valido, di 9 o 10 cifre, con spazi o senza spazi, con prefisso o senza prefisso (se lo inserisci, ricordati il "+")',e.parentElement.insertBefore(i,e),e.setAttribute("aria-describedby",i.id)}return!1}return e.value.length>256?(t.innerHTML="Il numero di telefono deve essere lungo al massimo 256 caratteri",insertAfter(t,e),e.focus(),!1):(e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label")&&(e.parentElement.removeChild(e.previousElementSibling),e.removeAttribute("aria-describedby")),!!checkPhoneNumber(e.value)||(t.innerHTML='Numero di telefono non valido. Puoi inserire 9 o 10 cifre dopo il prefisso opzionale. Se hai inserito il prefisso, ricordati di anticiparlo con un "+"',insertAfter(t,e),e.focus(),!1))}function validateUsername(e){e.nextElementSibling&&"P"===e.nextElementSibling.tagName&&e.nextElementSibling.classList.contains("error-label")&&e.parentElement.removeChild(e.nextElementSibling);let t=document.createElement("p");if(t.classList.add("error-label"),t.setAttribute("role","alert"),t.setAttribute("aria-live","assertive"),""==e.value){if(t.innerHTML='Devi inserire uno <span lang="en">username</span>!',insertAfter(t,e),e.focus(),!(e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label"))){var i=document.createElement("p");i.id="info-"+e.id,i.classList.add("info-label"),i.innerHTML='Esso pu\xf2 contenere solo lettere, numeri, apostrofi, trattini e <span lang="en">underscore</span>, non pu\xf2 contenere spazi e pu\xf2 essere lungo al massimo 40 caratteri',e.parentElement.insertBefore(i,e),e.setAttribute("aria-describedby",i.id)}return!1}return e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label")&&(e.parentElement.removeChild(e.previousElementSibling),e.removeAttribute("aria-describedby")),!!checkUsername(e.value)||(t.innerHTML='Lo <span lang="en">Username</span> pu\xf2 contenere solo lettere, numeri, apostrofi, trattini e <span lang="en">underscore</span>, non pu\xf2 contenere spazi e deve essere lungo al massimo 40 caratteri',insertAfter(t,e),e.focus(),!1)}function validatePassword(e){e.nextElementSibling&&"P"===e.nextElementSibling.tagName&&e.nextElementSibling.classList.contains("error-label")&&e.parentElement.removeChild(e.nextElementSibling);let t=document.createElement("p");if(t.classList.add("error-label"),t.setAttribute("role","alert"),t.setAttribute("aria-live","assertive"),""==e.value){if(t.innerHTML='Devi inserire una <span lang="en">password</span>!',insertAfter(t,e),e.focus(),!(e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label"))){var i=document.createElement("p");i.id="info-"+e.id,i.classList.add("info-label"),i.innerHTML="Essa deve essere lunga almeno 8 caratteri e massimo 256, deve contenere almeno un carattere maiuscolo, un carattere minuscolo, un numero e un carattere speciale",e.parentElement.insertBefore(i,e),e.setAttribute("aria-describedby",i.id)}return!1}return e.value.length>256?(t.innerHTML='La <span lang="en">password</span> deve essere lunga al massimo 256 caratteri',insertAfter(t,e),e.focus(),!1):(e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label")&&(e.parentElement.removeChild(e.previousElementSibling),e.removeAttribute("aria-describedby")),!!checkPassword(e.value)||(t.innerHTML='La <span lang="en">password</span> deve contenere almeno 8 caratteri, di cui almeno una lettera maiuscola, una minuscola, un numero e un carattere speciale',insertAfter(t,e),e.focus(),!1))}function validatePasswordConfirmation(e){e.nextElementSibling&&"P"===e.nextElementSibling.tagName&&e.nextElementSibling.classList.contains("error-label")&&e.parentElement.removeChild(e.nextElementSibling);var t=document.getElementById("password");let i=document.createElement("p");return i.classList.add("error-label"),i.setAttribute("role","alert"),i.setAttribute("aria-live","assertive"),e.value==t.value||(i.innerHTML='Le <span lang="en">password</span> non coincidono',insertAfter(i,e),e.focus(),!1)}function validateNewPassword(e){if(e.nextElementSibling&&"P"===e.nextElementSibling.tagName&&e.nextElementSibling.classList.contains("error-label")&&e.parentElement.removeChild(e.nextElementSibling),""!=e.value){let t=document.createElement("p");if(t.classList.add("error-label"),t.setAttribute("role","alert"),t.setAttribute("aria-live","assertive"),e.value.length>256)return t.innerHTML='La <span lang="en">password</span> deve essere lunga al massimo 256 caratteri',insertAfter(t,e),e.focus(),!1;if(e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label")&&(e.parentElement.removeChild(e.previousElementSibling),e.removeAttribute("aria-describedby")),!checkPassword(e.value))return t.innerHTML='La <span lang="en">password</span> deve contenere almeno 8 caratteri, di cui almeno una lettera maiuscola, una minuscola, un numero e un carattere speciale',insertAfter(t,e),e.focus(),!1}else e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label")||caricamento_area_privata();return!0}function validateTitolo(e){e.nextElementSibling&&"P"===e.nextElementSibling.tagName&&e.nextElementSibling.classList.contains("error-label")&&e.parentElement.removeChild(e.nextElementSibling);let t=document.createElement("p");if(t.classList.add("error-label"),t.setAttribute("role","alert"),t.setAttribute("aria-live","assertive"),""==e.value){if(t.innerHTML="Devi inserire un titolo!",insertAfter(t,e),e.focus(),!(e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label"))){var i=document.createElement("p");i.id="info-"+e.id,i.classList.add("info-label"),i.innerHTML="Un titolo per il preventivo, deve essere lungo da 2 a 40 caratteri",e.parentElement.insertBefore(i,e),e.setAttribute("aria-describedby",i.id)}return!1}return e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label")&&(e.parentElement.removeChild(e.previousElementSibling),e.removeAttribute("aria-describedby")),!!checkTitolo(e.value)||(t.innerHTML="Il titolo pu\xf2 contenere solo lettere, numeri, trattini e spazi e deve essere lungo da 2 a 40 caratteri",insertAfter(t,e),e.focus(),!1)}function validateLuogo(e){e.nextElementSibling&&"P"===e.nextElementSibling.tagName&&e.nextElementSibling.classList.contains("error-label")&&e.parentElement.removeChild(e.nextElementSibling);let t=document.createElement("p");if(t.classList.add("error-label"),t.setAttribute("role","alert"),t.setAttribute("aria-live","assertive"),""==e.value){if(t.innerHTML="Devi inserire un luogo!",insertAfter(t,e),e.focus(),!(e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label"))){var i=document.createElement("p");i.id="info-"+e.id,i.classList.add("info-label"),i.innerHTML="Il luogo dove verr\xe0 svolto il lavoro, deve essere lungo da 2 a 40 caratteri",e.parentElement.insertBefore(i,e),e.setAttribute("aria-describedby",i.id)}return!1}return e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label")&&(e.parentElement.removeChild(e.previousElementSibling),e.removeAttribute("aria-describedby")),!!checkLuogo(e.value)||(t.innerHTML="Il luogo pu\xf2 contenere solo lettere, numeri, apostrofi, virgolette, trattini, spazi e segni di punteggiatura e deve essere lungo da 2 a 40 caratteri",insertAfter(t,e),e.focus(),!1)}function validateFoto(e){e.nextElementSibling&&"P"===e.nextElementSibling.tagName&&e.nextElementSibling.classList.contains("error-label")&&e.parentElement.removeChild(e.nextElementSibling);let t=document.createElement("p");t.classList.add("error-label"),t.setAttribute("role","alert"),t.setAttribute("aria-live","assertive");let i=e.files[0];if(void 0==i){if(t.innerHTML="Devi inserire una foto!",insertAfter(t,e),e.focus(),!(e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label"))){var n=document.createElement("p");n.id="info-"+e.id,n.classList.add("info-label"),n.innerHTML="Una foto descrittiva obbligatoria con dimensione massima 5 <abbr title='Megabyte' lang='en'>MB</abbr>",e.parentElement.insertBefore(n,e),e.setAttribute("aria-describedby",n.id)}return!1}return e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label")&&(e.parentElement.removeChild(e.previousElementSibling),e.removeAttribute("aria-describedby")),!(i.size>5242880)||(t.innerHTML="La foto deve avere dimensione massima 5 <abbr title='Megabyte' lang='en'>MB</abbr>!",insertAfter(t,e),e.focus(),!1)}function validateEditFoto(e){e.nextElementSibling&&"P"===e.nextElementSibling.tagName&&e.nextElementSibling.classList.contains("error-label")&&e.parentElement.removeChild(e.nextElementSibling);let t=document.createElement("p");t.classList.add("error-label"),t.setAttribute("role","alert"),t.setAttribute("aria-live","assertive");let i=e.files[0];return void 0==i||(e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label")&&(e.parentElement.removeChild(e.previousElementSibling),e.removeAttribute("aria-describedby")),!(i.size>5242880)||(t.innerHTML="La foto deve avere dimensione massima 5 <abbr title='Megabyte' lang='en'>MB</abbr>!",insertAfter(t,e),e.focus(),!1))}function validateDidascalia(e){e.nextElementSibling&&"P"===e.nextElementSibling.tagName&&e.nextElementSibling.classList.contains("error-label")&&e.parentElement.removeChild(e.nextElementSibling);let t=document.createElement("p");if(t.classList.add("error-label"),t.setAttribute("role","alert"),t.setAttribute("aria-live","assertive"),""==e.value){if(t.innerHTML="Devi inserire una didascalia!",insertAfter(t,e),e.focus(),!(e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label"))){var i=document.createElement("p");i.id="info-"+e.id,i.classList.add("info-label"),i.innerHTML="Una didascalia per la foto, deve essere lunga da 2 a 75 caratteri",e.parentElement.insertBefore(i,e),e.setAttribute("aria-describedby",i.id)}return!1}return e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label")&&(e.parentElement.removeChild(e.previousElementSibling),e.removeAttribute("aria-describedby")),!!checkDidascalia(e.value)||(t.innerHTML="La didascalia pu\xf2 contenere solo lettere, numeri, apostrofi, virgolette, trattini, spazi e segni di punteggiatura e deve essere lunga da 2 a 75 caratteri",insertAfter(t,e),e.focus(),!1)}function validateDescrizione(e){e.nextElementSibling&&"P"===e.nextElementSibling.tagName&&e.nextElementSibling.classList.contains("error-label")&&e.parentElement.removeChild(e.nextElementSibling);let t=document.createElement("p");if(t.classList.add("error-label"),t.setAttribute("role","alert"),t.setAttribute("aria-live","assertive"),""==e.value){if(t.innerHTML="Devi inserire una descrizione!",insertAfter(t,e),e.focus(),!(e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label"))){var i=document.createElement("p");i.id="info-"+e.id,i.classList.add("info-label"),i.innerHTML="Una breve descrizione, deve essere lunga da 2 a 255 caratteri",e.parentElement.insertBefore(i,e),e.setAttribute("aria-describedby",i.id)}return!1}return e.previousElementSibling&&"P"===e.previousElementSibling.tagName&&e.previousElementSibling.classList.contains("info-label")&&(e.parentElement.removeChild(e.previousElementSibling),e.removeAttribute("aria-describedby")),!!checkDescrizione(e.value)||(t.innerHTML="La descrizione pu\xf2 contenere solo lettere, numeri, apostrofi, virgolette, trattini, spazi e segni di punteggiatura e deve essere lunga da 2 a 255 caratteri",insertAfter(t,e),e.focus(),!1)}function validateRegister(){if(!validateName(document.getElementById("nome"))||!validateSurname(document.getElementById("cognome"))||!validateEmail(document.getElementById("email"))||!validatePhoneNumber(document.getElementById("telefono"))||!validateUsername(document.getElementById("username"))||!validatePassword(document.getElementById("password"))||!validatePasswordConfirmation(document.getElementById("password_confirmation")))return!1}function validatePrivateArea(){if(!validateName(document.getElementById("nome"))||!validateSurname(document.getElementById("cognome"))||!validateEmail(document.getElementById("email"))||!validatePhoneNumber(document.getElementById("telefono"))||!validateUsername(document.getElementById("username"))||!validateNewPassword(document.getElementById("new_password"))||!validatePasswordConfirmation(document.getElementById("repeated_password")))return!1}function validatePreventiviForm(){if(!validateTitolo(document.getElementById("titolo"))||!validateLuogo(document.getElementById("luogo"))||!validateFoto(document.getElementById("foto"))||!validateDidascalia(document.getElementById("didascalia"))||!validateDescrizione(document.getElementById("descrizione")))return!1}function validateEditPreventiviForm(){if(!validateTitolo(document.getElementById("titolo"))||!validateLuogo(document.getElementById("luogo"))||!validateEditFoto(document.getElementById("foto"))||!validateDidascalia(document.getElementById("didascalia"))||!validateDescrizione(document.getElementById("descrizione")))return!1}function filterTable(){var e=document.getElementById("filter-titolo").value.toLowerCase(),t=document.getElementById("filter-richiedente").value.toLowerCase(),i=document.getElementById("start-date").value,n=document.getElementById("end-date").value,a=document.getElementById("table-preventivi"),r=a.getElementsByTagName("tr"),l=i?new Date(i):null,s=n?new Date(n):null,o=0,d=document.getElementById("error-date-range");d&&d.remove();var m=document.getElementById("filter-results-container");m&&m.remove();var u=document.getElementById("reset-message");u&&u.remove();var c=document.getElementById("table-filter");if(null!=s&&null!=l&&s<l){var b=document.createElement("p");b.id="error-date-range",b.classList.add("error-label","push-right","centered"),b.setAttribute("role","alert"),b.setAttribute("aria-live","assertive"),b.textContent="La data minima deve essere precedente o uguale a quella massima.",insertAfter(b,c);return}for(var g=1;g<r.length;g++){var v=r[g].getElementsByTagName("td"),E=r[g].getElementsByTagName("th")[0].textContent.toLowerCase(),f=v[0].textContent.toLowerCase(),p=v[3].textContent.trim(),y=new Date(p),L=!0;l&&y<l&&(L=!1),s&&y>s&&(L=!1),E.indexOf(e)>-1&&f.indexOf(t)>-1&&L?(r[g].classList.remove("hidden"),r[g].removeAttribute("class"),o++):r[g].classList.add("hidden")}if(e||t||i||n){var B=document.createElement("div");B.id="filter-results-container",B.setAttribute("aria-label","Risultati dei filtri"),B.setAttribute("aria-live","polite"),B.setAttribute("role","region"),B.classList.add("info-label","centered","m-auto");var S=document.createElement("p");S.id="count-preventivi",S.classList.add("mb-0-5","fs-1-25"),S.textContent=1===o?o+" preventivo trovato":o+" preventivi trovati";var I=document.createElement("button");I.id="reset-filters",I.classList.add("mb-0-1"),I.innerHTML='<span lang="en">Reset</span> Filtri',I.addEventListener("click",function(){document.getElementById("filter-titolo").value="",document.getElementById("filter-richiedente").value="",document.getElementById("start-date").value="",document.getElementById("end-date").value="",filterTable();var e=document.createElement("p");e.id="reset-message",e.setAttribute("aria-label","Filtri puliti correttamente"),e.setAttribute("aria-live","polite"),e.setAttribute("role","region"),e.classList.add("info-label","centered","m-auto","fs-1-25"),e.textContent="Filtri puliti correttamente",a.parentElement.insertBefore(e,a)}),B.appendChild(S),B.appendChild(I),a.parentElement.insertBefore(B,a)}}